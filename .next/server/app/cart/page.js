(()=>{var e={};e.id=565,e.ids=[565],e.modules={53524:e=>{"use strict";e.exports=require("@prisma/client")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},41790:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page-experimental.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},39491:e=>{"use strict";e.exports=require("assert")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},71017:e=>{"use strict";e.exports=require("path")},63477:e=>{"use strict";e.exports=require("querystring")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},2258:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>p,pages:()=>u,routeModule:()=>x,tree:()=>d});var s=r(73137),a=r(54647),i=r(4183),n=r.n(i),c=r(71775),o={};for(let e in c)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>c[e]);r.d(t,o);let l=s.AppPageRouteModule,d=["",{children:["cart",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,43162)),"C:\\Users\\16047\\Desktop\\Frontend\\fullstack\\e-commerce\\src\\app\\cart\\page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[async e=>(await Promise.resolve().then(r.bind(r,87906))).default(e)],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,43884)),"C:\\Users\\16047\\Desktop\\Frontend\\fullstack\\e-commerce\\src\\app\\layout.tsx"],error:[()=>Promise.resolve().then(r.bind(r,82131)),"C:\\Users\\16047\\Desktop\\Frontend\\fullstack\\e-commerce\\src\\app\\error.tsx"],loading:[()=>Promise.resolve().then(r.bind(r,68520)),"C:\\Users\\16047\\Desktop\\Frontend\\fullstack\\e-commerce\\src\\app\\loading.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,66197)),"C:\\Users\\16047\\Desktop\\Frontend\\fullstack\\e-commerce\\src\\app\\not-found.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[async e=>(await Promise.resolve().then(r.bind(r,87906))).default(e)],twitter:[],manifest:void 0}}],u=["C:\\Users\\16047\\Desktop\\Frontend\\fullstack\\e-commerce\\src\\app\\cart\\page.tsx"],p="/cart/page",m={require:r,loadChunk:()=>Promise.resolve()},x=new l({definition:{kind:a.x.APP_PAGE,page:"/cart/page",pathname:"/cart",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},49636:(e,t,r)=>{let s={"970cd900fe936e3547809497bf28a64992a0824c":()=>Promise.resolve().then(r.bind(r,35373)).then(e=>e.$$ACTION_0),"8cb6b563373bab19b5e68c172c09bff26839f245":()=>Promise.resolve().then(r.bind(r,8265)).then(e=>e.setProductQuantity)};async function endpoint(e,...t){let r=await s[e]();return r.apply(null,t)}e.exports={"970cd900fe936e3547809497bf28a64992a0824c":endpoint.bind(null,"970cd900fe936e3547809497bf28a64992a0824c"),"8cb6b563373bab19b5e68c172c09bff26839f245":endpoint.bind(null,"8cb6b563373bab19b5e68c172c09bff26839f245")}},8040:(e,t,r)=>{Promise.resolve().then(r.bind(r,14270))},14270:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>CartEntry});var s=r(60080),a=r(39184),i=r(52451),n=r.n(i),c=r(11440),o=r.n(c),l=r(9885);function CartEntry({cartItem:{product:e,quantity:t},setProductQuantity:r}){let[i,c]=(0,l.useTransition)(),d=[];for(let e=1;e<=99;e++)d.push(s.jsx("option",{value:e,children:e},e));return(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[s.jsx(n(),{src:e.imageUrl,alt:e.name,width:200,height:200,className:"rounded-lg"}),(0,s.jsxs)("div",{children:[s.jsx(o(),{href:"/products/"+e.id,className:"font-bold",children:e.name}),(0,s.jsxs)("div",{children:["Price: ",(0,a.T)(e.price)]}),(0,s.jsxs)("div",{className:"my-1 flex items-center gap-2",children:["Quantity:",(0,s.jsxs)("select",{className:"select-bordered select w-full max-w-[80px]",defaultValue:t,onChange:t=>{let s=parseInt(t.currentTarget.value);c(async()=>{await r(e.id,s)})},children:[s.jsx("option",{value:0,children:"0 (Remove)"}),d]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:["Total: ",(0,a.T)(e.price*t),i&&s.jsx("span",{className:"loading loading-spinner loading-sm"})]})]})]}),s.jsx("div",{className:"divider"})]})}},8265:(e,t,r)=>{"use strict";r.r(t),r.d(t,{setProductQuantity:()=>setProductQuantity});var s=r(10459),a=r(15592),i=r(32810),n=r(50561);async function setProductQuantity(e,t){let r=await (0,a.dv)()??await (0,a.Bk)(),s=r.items.find(t=>t.productId===e);0===t?s&&await i._.cart.update({where:{id:r.id},data:{items:{delete:{id:s.id}}}}):s?await i._.cart.update({where:{id:r.id},data:{items:{update:{where:{id:s.id},data:{quantity:t}}}}}):await i._.cart.update({where:{id:r.id},data:{items:{create:{productId:e,quantity:t}}}}),(0,n.revalidatePath)("/cart")}(0,r(51419).h)([setProductQuantity]),(0,s.U)("8cb6b563373bab19b5e68c172c09bff26839f245",null,setProductQuantity)},43162:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>CartPage,metadata:()=>p});var s=r(48144),a=r(15592),i=r(17536);let n=(0,i.createProxy)(String.raw`C:\Users\16047\Desktop\Frontend\fullstack\e-commerce\src\app\cart\CartEntry.tsx`),{__esModule:c,$$typeof:o}=n,l=n.default;var d=r(8265),u=r(64295);let p={title:"Your Cart - Daniel's Ecommerce"};async function CartPage(){let e=await (0,a.dv)();return(0,s.jsxs)("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"shopping cart"}),e?.items.map(e=>s.jsx(l,{cartItem:e,setProductQuantity:d.setProductQuantity},e.id)),!e?.items.length&&s.jsx("p",{children:"Your cart is empty"}),(0,s.jsxs)("div",{className:"flex flex-col items-end sm:items-center",children:[(0,s.jsxs)("p",{className:"mb-3 font-bold",children:["Total: ",(0,u.T)(e?.subtotal||0)]}),s.jsx("button",{className:"btn btn-primary sm:w-[200px]",children:"Checkout "})]})]})}},64295:(e,t,r)=>{"use strict";function formatPrice(e){return(e/100).toLocaleString("en-US",{style:"currency",currency:"USD"})}r.d(t,{T:()=>formatPrice})}};var t=require("../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),r=t.X(0,[357,661,101,963,12],()=>__webpack_exec__(2258));module.exports=r})();