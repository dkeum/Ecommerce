"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/auth/[...nextauth]/route";
exports.ids = ["app/api/auth/[...nextauth]/route"];
exports.modules = {

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("@prisma/client");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "../../client/components/action-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist\\client\\components\\action-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist\\client\\components\\action-async-storage.external.js");

/***/ }),

/***/ "../../client/components/request-async-storage.external":
/*!***********************************************************************************!*\
  !*** external "next/dist\\client\\components\\request-async-storage.external.js" ***!
  \***********************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist\\client\\components\\request-async-storage.external.js");

/***/ }),

/***/ "../../client/components/static-generation-async-storage.external":
/*!*********************************************************************************************!*\
  !*** external "next/dist\\client\\components\\static-generation-async-storage.external.js" ***!
  \*********************************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist\\client\\components\\static-generation-async-storage.external.js");

/***/ }),

/***/ "assert":
/*!*************************!*\
  !*** external "assert" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("assert");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("events");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "querystring":
/*!******************************!*\
  !*** external "querystring" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("querystring");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute&page=%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute.ts&appDir=C%3A%5CUsers%5C16047%5CDesktop%5CFrontend%5Cfullstack%5Ce-commerce%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5C16047%5CDesktop%5CFrontend%5Cfullstack%5Ce-commerce&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute&page=%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute.ts&appDir=C%3A%5CUsers%5C16047%5CDesktop%5CFrontend%5Cfullstack%5Ce-commerce%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5C16047%5CDesktop%5CFrontend%5Cfullstack%5Ce-commerce&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_node_polyfill_headers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/node-polyfill-headers */ \"(rsc)/./node_modules/next/dist/server/node-polyfill-headers.js\");\n/* harmony import */ var next_dist_server_node_polyfill_headers__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_node_polyfill_headers__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var C_Users_16047_Desktop_Frontend_fullstack_e_commerce_src_app_api_auth_nextauth_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/auth/[...nextauth]/route.ts */ \"(rsc)/./src/app/api/auth/[...nextauth]/route.ts\");\n\n// @ts-ignore this need to be imported from next/dist to be external\n\n\n// @ts-expect-error - replaced by webpack/turbopack loader\n\nconst AppRouteRouteModule = next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_1__.AppRouteRouteModule;\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_2__.RouteKind.APP_ROUTE,\n        page: \"/api/auth/[...nextauth]/route\",\n        pathname: \"/api/auth/[...nextauth]\",\n        filename: \"route\",\n        bundlePath: \"app/api/auth/[...nextauth]/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\16047\\\\Desktop\\\\Frontend\\\\fullstack\\\\e-commerce\\\\src\\\\app\\\\api\\\\auth\\\\[...nextauth]\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_16047_Desktop_Frontend_fullstack_e_commerce_src_app_api_auth_nextauth_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/auth/[...nextauth]/route\";\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZhdXRoJTJGJTVCLi4ubmV4dGF1dGglNUQlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRmF1dGglMkYlNUIuLi5uZXh0YXV0aCU1RCUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRmF1dGglMkYlNUIuLi5uZXh0YXV0aCU1RCUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUMxNjA0NyU1Q0Rlc2t0b3AlNUNGcm9udGVuZCU1Q2Z1bGxzdGFjayU1Q2UtY29tbWVyY2UlNUNzcmMlNUNhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPUMlM0ElNUNVc2VycyU1QzE2MDQ3JTVDRGVza3RvcCU1Q0Zyb250ZW5kJTVDZnVsbHN0YWNrJTVDZS1jb21tZXJjZSZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFnRDtBQUNoRDtBQUMwRjtBQUMzQjtBQUMvRDtBQUNxSTtBQUNySSw0QkFBNEIsZ0hBQTBCO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsdUdBQXVHO0FBQy9HO0FBQ2lKOztBQUVqSiIsInNvdXJjZXMiOlsid2VicGFjazovL2RhbmllbC1lY29tbWVyY2UvPzg4OTYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFwibmV4dC9kaXN0L3NlcnZlci9ub2RlLXBvbHlmaWxsLWhlYWRlcnNcIjtcbi8vIEB0cy1pZ25vcmUgdGhpcyBuZWVkIHRvIGJlIGltcG9ydGVkIGZyb20gbmV4dC9kaXN0IHRvIGJlIGV4dGVybmFsXG5pbXBvcnQgKiBhcyBtb2R1bGUgZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbi8vIEB0cy1leHBlY3QtZXJyb3IgLSByZXBsYWNlZCBieSB3ZWJwYWNrL3R1cmJvcGFjayBsb2FkZXJcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCJDOlxcXFxVc2Vyc1xcXFwxNjA0N1xcXFxEZXNrdG9wXFxcXEZyb250ZW5kXFxcXGZ1bGxzdGFja1xcXFxlLWNvbW1lcmNlXFxcXHNyY1xcXFxhcHBcXFxcYXBpXFxcXGF1dGhcXFxcWy4uLm5leHRhdXRoXVxcXFxyb3V0ZS50c1wiO1xuY29uc3QgQXBwUm91dGVSb3V0ZU1vZHVsZSA9IG1vZHVsZS5BcHBSb3V0ZVJvdXRlTW9kdWxlO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvYXV0aC9bLi4ubmV4dGF1dGhdL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvYXV0aC9bLi4ubmV4dGF1dGhdXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9hdXRoL1suLi5uZXh0YXV0aF0vcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCJDOlxcXFxVc2Vyc1xcXFwxNjA0N1xcXFxEZXNrdG9wXFxcXEZyb250ZW5kXFxcXGZ1bGxzdGFja1xcXFxlLWNvbW1lcmNlXFxcXHNyY1xcXFxhcHBcXFxcYXBpXFxcXGF1dGhcXFxcWy4uLm5leHRhdXRoXVxcXFxyb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBoZWFkZXJIb29rcywgc3RhdGljR2VuZXJhdGlvbkJhaWxvdXQgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9hdXRoL1suLi5uZXh0YXV0aF0vcm91dGVcIjtcbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgaGVhZGVySG9va3MsIHN0YXRpY0dlbmVyYXRpb25CYWlsb3V0LCBvcmlnaW5hbFBhdGhuYW1lLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute&page=%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute.ts&appDir=C%3A%5CUsers%5C16047%5CDesktop%5CFrontend%5Cfullstack%5Ce-commerce%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5C16047%5CDesktop%5CFrontend%5Cfullstack%5Ce-commerce&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/auth/[...nextauth]/route.ts":
/*!*************************************************!*\
  !*** ./src/app/api/auth/[...nextauth]/route.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ handler),\n/* harmony export */   POST: () => (/* binding */ handler),\n/* harmony export */   authOptions: () => (/* binding */ authOptions)\n/* harmony export */ });\n/* harmony import */ var _lib_db_cart__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/db/cart */ \"(rsc)/./src/lib/db/cart.ts\");\n/* harmony import */ var _lib_db_prisma__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/db/prisma */ \"(rsc)/./src/lib/db/prisma.ts\");\n/* harmony import */ var _lib_env__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/env */ \"(rsc)/./src/lib/env.ts\");\n/* harmony import */ var _auth_prisma_adapter__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @auth/prisma-adapter */ \"(rsc)/./node_modules/@auth/prisma-adapter/index.js\");\n/* harmony import */ var next_auth_next__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! next-auth/next */ \"(rsc)/./node_modules/next-auth/next/index.js\");\n/* harmony import */ var next_auth_providers_google__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! next-auth/providers/google */ \"(rsc)/./node_modules/next-auth/providers/google.js\");\n\n\n\n\n\n\nconst authOptions = {\n    adapter: (0,_auth_prisma_adapter__WEBPACK_IMPORTED_MODULE_3__.PrismaAdapter)(_lib_db_prisma__WEBPACK_IMPORTED_MODULE_1__.prisma),\n    providers: [\n        (0,next_auth_providers_google__WEBPACK_IMPORTED_MODULE_5__[\"default\"])({\n            clientId: _lib_env__WEBPACK_IMPORTED_MODULE_2__.env.GOOGLE_CLIENT_ID,\n            clientSecret: _lib_env__WEBPACK_IMPORTED_MODULE_2__.env.GOOGLE_CLIENT_SECRET\n        })\n    ],\n    callbacks: {\n        session ({ session, user }) {\n            session.user.id = user.id;\n            return session;\n        }\n    },\n    events: {\n        async signIn ({ user }) {\n            await (0,_lib_db_cart__WEBPACK_IMPORTED_MODULE_0__.mergeAnonymousCartIntoUserCart)(user.id);\n        }\n    }\n};\nconst handler = (0,next_auth_next__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(authOptions);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9hdXRoL1suLi5uZXh0YXV0aF0vcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQStEO0FBQ3RCO0FBQ1Q7QUFDcUI7QUFJZjtBQUNrQjtBQUVqRCxNQUFNTSxjQUErQjtJQUMxQ0MsU0FBU0osbUVBQWFBLENBQUNGLGtEQUFNQTtJQUM3Qk8sV0FBVztRQUNUSCxzRUFBY0EsQ0FBQztZQUNiSSxVQUFVUCx5Q0FBR0EsQ0FBQ1EsZ0JBQWdCO1lBQzlCQyxjQUFjVCx5Q0FBR0EsQ0FBQ1Usb0JBQW9CO1FBQ3hDO0tBQ0Q7SUFDREMsV0FBVztRQUNUQyxTQUFRLEVBQUVBLE9BQU8sRUFBRUMsSUFBSSxFQUFFO1lBQ3ZCRCxRQUFRQyxJQUFJLENBQUNDLEVBQUUsR0FBR0QsS0FBS0MsRUFBRTtZQUN6QixPQUFPRjtRQUNUO0lBQ0Y7SUFDQUcsUUFBUTtRQUNOLE1BQU1DLFFBQU8sRUFBRUgsSUFBSSxFQUFFO1lBQ25CLE1BQU1mLDRFQUE4QkEsQ0FBQ2UsS0FBS0MsRUFBRTtRQUM5QztJQUNGO0FBQ0YsRUFBRTtBQUVGLE1BQU1HLFVBQVVmLDBEQUFRQSxDQUFDRTtBQUVrQiIsInNvdXJjZXMiOlsid2VicGFjazovL2RhbmllbC1lY29tbWVyY2UvLi9zcmMvYXBwL2FwaS9hdXRoL1suLi5uZXh0YXV0aF0vcm91dGUudHM/MDA5OCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBtZXJnZUFub255bW91c0NhcnRJbnRvVXNlckNhcnQgfSBmcm9tIFwiQC9saWIvZGIvY2FydFwiO1xyXG5pbXBvcnQgeyBwcmlzbWEgfSBmcm9tIFwiQC9saWIvZGIvcHJpc21hXCI7XHJcbmltcG9ydCB7IGVudiB9IGZyb20gXCJAL2xpYi9lbnZcIjtcclxuaW1wb3J0IHsgUHJpc21hQWRhcHRlciB9IGZyb20gXCJAYXV0aC9wcmlzbWEtYWRhcHRlclwiO1xyXG5pbXBvcnQgeyBQcmlzbWFDbGllbnQgfSBmcm9tIFwiQHByaXNtYS9jbGllbnRcIjtcclxuaW1wb3J0IHsgTmV4dEF1dGhPcHRpb25zIH0gZnJvbSBcIm5leHQtYXV0aFwiO1xyXG5pbXBvcnQgeyBBZGFwdGVyIH0gZnJvbSBcIm5leHQtYXV0aC9hZGFwdGVyc1wiO1xyXG5pbXBvcnQgTmV4dEF1dGggZnJvbSBcIm5leHQtYXV0aC9uZXh0XCI7XHJcbmltcG9ydCBHb29nbGVQcm92aWRlciBmcm9tIFwibmV4dC1hdXRoL3Byb3ZpZGVycy9nb29nbGVcIjtcclxuXHJcbmV4cG9ydCBjb25zdCBhdXRoT3B0aW9uczogTmV4dEF1dGhPcHRpb25zID0ge1xyXG4gIGFkYXB0ZXI6IFByaXNtYUFkYXB0ZXIocHJpc21hIGFzIFByaXNtYUNsaWVudCkgYXMgQWRhcHRlcixcclxuICBwcm92aWRlcnM6IFtcclxuICAgIEdvb2dsZVByb3ZpZGVyKHtcclxuICAgICAgY2xpZW50SWQ6IGVudi5HT09HTEVfQ0xJRU5UX0lELFxyXG4gICAgICBjbGllbnRTZWNyZXQ6IGVudi5HT09HTEVfQ0xJRU5UX1NFQ1JFVCxcclxuICAgIH0pLFxyXG4gIF0sXHJcbiAgY2FsbGJhY2tzOiB7XHJcbiAgICBzZXNzaW9uKHsgc2Vzc2lvbiwgdXNlciB9KSB7XHJcbiAgICAgIHNlc3Npb24udXNlci5pZCA9IHVzZXIuaWQ7XHJcbiAgICAgIHJldHVybiBzZXNzaW9uO1xyXG4gICAgfSxcclxuICB9LFxyXG4gIGV2ZW50czoge1xyXG4gICAgYXN5bmMgc2lnbkluKHsgdXNlciB9KSB7XHJcbiAgICAgIGF3YWl0IG1lcmdlQW5vbnltb3VzQ2FydEludG9Vc2VyQ2FydCh1c2VyLmlkKTtcclxuICAgIH0sXHJcbiAgfSxcclxufTtcclxuXHJcbmNvbnN0IGhhbmRsZXIgPSBOZXh0QXV0aChhdXRoT3B0aW9ucyk7XHJcblxyXG5leHBvcnQgeyBoYW5kbGVyIGFzIEdFVCwgaGFuZGxlciBhcyBQT1NUIH07Il0sIm5hbWVzIjpbIm1lcmdlQW5vbnltb3VzQ2FydEludG9Vc2VyQ2FydCIsInByaXNtYSIsImVudiIsIlByaXNtYUFkYXB0ZXIiLCJOZXh0QXV0aCIsIkdvb2dsZVByb3ZpZGVyIiwiYXV0aE9wdGlvbnMiLCJhZGFwdGVyIiwicHJvdmlkZXJzIiwiY2xpZW50SWQiLCJHT09HTEVfQ0xJRU5UX0lEIiwiY2xpZW50U2VjcmV0IiwiR09PR0xFX0NMSUVOVF9TRUNSRVQiLCJjYWxsYmFja3MiLCJzZXNzaW9uIiwidXNlciIsImlkIiwiZXZlbnRzIiwic2lnbkluIiwiaGFuZGxlciIsIkdFVCIsIlBPU1QiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/auth/[...nextauth]/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/db/cart.ts":
/*!****************************!*\
  !*** ./src/lib/db/cart.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createCart: () => (/* binding */ createCart),\n/* harmony export */   getCart: () => (/* binding */ getCart),\n/* harmony export */   mergeAnonymousCartIntoUserCart: () => (/* binding */ mergeAnonymousCartIntoUserCart)\n/* harmony export */ });\n/* harmony import */ var _app_api_auth_nextauth_route__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/app/api/auth/[...nextauth]/route */ \"(rsc)/./src/app/api/auth/[...nextauth]/route.ts\");\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next-auth */ \"(rsc)/./node_modules/next-auth/index.js\");\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_auth__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_dist_client_components_headers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/client/components/headers */ \"(rsc)/./node_modules/next/dist/client/components/headers.js\");\n/* harmony import */ var next_dist_client_components_headers__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_client_components_headers__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _prisma__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./prisma */ \"(rsc)/./src/lib/db/prisma.ts\");\n\n\n\n\nasync function getCart() {\n    const session = await (0,next_auth__WEBPACK_IMPORTED_MODULE_1__.getServerSession)(_app_api_auth_nextauth_route__WEBPACK_IMPORTED_MODULE_0__.authOptions);\n    let cart = null;\n    if (session) {\n        cart = await _prisma__WEBPACK_IMPORTED_MODULE_3__.prisma.cart.findFirst({\n            where: {\n                userId: session.user.id\n            },\n            include: {\n                items: {\n                    include: {\n                        product: true\n                    }\n                }\n            }\n        });\n    } else {\n        const localCartId = (0,next_dist_client_components_headers__WEBPACK_IMPORTED_MODULE_2__.cookies)().get(\"localCartId\")?.value;\n        cart = localCartId ? await _prisma__WEBPACK_IMPORTED_MODULE_3__.prisma.cart.findUnique({\n            where: {\n                id: localCartId\n            },\n            include: {\n                items: {\n                    include: {\n                        product: true\n                    }\n                }\n            }\n        }) : null;\n    }\n    if (!cart) {\n        return null;\n    }\n    return {\n        ...cart,\n        size: cart.items.reduce((acc, item)=>acc + item.quantity, 0),\n        subtotal: cart.items.reduce((acc, item)=>acc + item.quantity * item.product.price, 0)\n    };\n}\nasync function createCart() {\n    const session = await (0,next_auth__WEBPACK_IMPORTED_MODULE_1__.getServerSession)(_app_api_auth_nextauth_route__WEBPACK_IMPORTED_MODULE_0__.authOptions);\n    let newCart;\n    if (session) {\n        newCart = await _prisma__WEBPACK_IMPORTED_MODULE_3__.prisma.cart.create({\n            data: {\n                userId: session.user.id\n            }\n        });\n    } else {\n        newCart = await _prisma__WEBPACK_IMPORTED_MODULE_3__.prisma.cart.create({\n            data: {}\n        });\n        // Note: Needs encryption + secure settings in real production app\n        (0,next_dist_client_components_headers__WEBPACK_IMPORTED_MODULE_2__.cookies)().set(\"localCartId\", newCart.id);\n    }\n    return {\n        ...newCart,\n        items: [],\n        size: 0,\n        subtotal: 0\n    };\n}\nasync function mergeAnonymousCartIntoUserCart(userId) {\n    const localCartId = (0,next_dist_client_components_headers__WEBPACK_IMPORTED_MODULE_2__.cookies)().get(\"localCartId\")?.value;\n    const localCart = localCartId ? await _prisma__WEBPACK_IMPORTED_MODULE_3__.prisma.cart.findUnique({\n        where: {\n            id: localCartId\n        },\n        include: {\n            items: true\n        }\n    }) : null;\n    if (!localCart) return;\n    const userCart = await _prisma__WEBPACK_IMPORTED_MODULE_3__.prisma.cart.findFirst({\n        where: {\n            userId\n        },\n        include: {\n            items: true\n        }\n    });\n    await _prisma__WEBPACK_IMPORTED_MODULE_3__.prisma.$transaction(async (tx)=>{\n        if (userCart) {\n            const mergedCartItems = mergeCartItems(localCart.items, userCart.items);\n            await tx.cartItem.deleteMany({\n                where: {\n                    cartId: userCart.id\n                }\n            });\n            await tx.cartItem.createMany({\n                data: mergedCartItems.map((item)=>({\n                        cartId: userCart.id,\n                        productId: item.productId,\n                        quantity: item.quantity\n                    }))\n            });\n        } else {\n            await tx.cart.create({\n                data: {\n                    userId,\n                    items: {\n                        createMany: {\n                            data: localCart.items.map((item)=>({\n                                    productId: item.productId,\n                                    quantity: item.quantity\n                                }))\n                        }\n                    }\n                }\n            });\n        }\n        await tx.cart.delete({\n            where: {\n                id: localCart.id\n            }\n        });\n        // throw Error(\"Transaction failed\");\n        (0,next_dist_client_components_headers__WEBPACK_IMPORTED_MODULE_2__.cookies)().set(\"localCartId\", \"\");\n    });\n}\nfunction mergeCartItems(...cartItems) {\n    return cartItems.reduce((acc, items)=>{\n        items.forEach((item)=>{\n            const existingItem = acc.find((i)=>i.productId === item.productId);\n            if (existingItem) {\n                existingItem.quantity += item.quantity;\n            } else {\n                acc.push(item);\n            }\n        });\n        return acc;\n    }, []);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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UCIsInNvdXJjZXMiOlsid2VicGFjazovL2RhbmllbC1lY29tbWVyY2UvLi9zcmMvbGliL2RiL2NhcnQudHM/Njc2ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBhdXRoT3B0aW9ucyB9IGZyb20gXCJAL2FwcC9hcGkvYXV0aC9bLi4ubmV4dGF1dGhdL3JvdXRlXCI7XHJcbmltcG9ydCB7IENhcnQsIENhcnRJdGVtLCBQcmlzbWEgfSBmcm9tIFwiQHByaXNtYS9jbGllbnRcIjtcclxuaW1wb3J0IHsgZ2V0U2VydmVyU2Vzc2lvbiB9IGZyb20gXCJuZXh0LWF1dGhcIjtcclxuaW1wb3J0IHsgY29va2llcyB9IGZyb20gXCJuZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvaGVhZGVyc1wiO1xyXG5pbXBvcnQgeyBwcmlzbWEgfSBmcm9tIFwiLi9wcmlzbWFcIjtcclxuXHJcbmV4cG9ydCB0eXBlIENhcnRXaXRoUHJvZHVjdHMgPSBQcmlzbWEuQ2FydEdldFBheWxvYWQ8e1xyXG4gIGluY2x1ZGU6IHsgaXRlbXM6IHsgaW5jbHVkZTogeyBwcm9kdWN0OiB0cnVlIH0gfSB9O1xyXG59PjtcclxuXHJcbmV4cG9ydCB0eXBlIENhcnRJdGVtV2l0aFByb2R1Y3QgPSBQcmlzbWEuQ2FydEl0ZW1HZXRQYXlsb2FkPHtcclxuICBpbmNsdWRlOiB7IHByb2R1Y3Q6IHRydWUgfTtcclxufT47XHJcblxyXG5leHBvcnQgdHlwZSBTaG9wcGluZ0NhcnQgPSBDYXJ0V2l0aFByb2R1Y3RzICYge1xyXG4gIHNpemU6IG51bWJlcjtcclxuICBzdWJ0b3RhbDogbnVtYmVyO1xyXG59O1xyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldENhcnQoKTogUHJvbWlzZTxTaG9wcGluZ0NhcnQgfCBudWxsPiB7XHJcbiAgY29uc3Qgc2Vzc2lvbiA9IGF3YWl0IGdldFNlcnZlclNlc3Npb24oYXV0aE9wdGlvbnMpO1xyXG5cclxuICBsZXQgY2FydDogQ2FydFdpdGhQcm9kdWN0cyB8IG51bGwgPSBudWxsO1xyXG5cclxuICBpZiAoc2Vzc2lvbikge1xyXG4gICAgY2FydCA9IGF3YWl0IHByaXNtYS5jYXJ0LmZpbmRGaXJzdCh7XHJcbiAgICAgIHdoZXJlOiB7IHVzZXJJZDogc2Vzc2lvbi51c2VyLmlkIH0sXHJcbiAgICAgIGluY2x1ZGU6IHsgaXRlbXM6IHsgaW5jbHVkZTogeyBwcm9kdWN0OiB0cnVlIH0gfSB9LFxyXG4gICAgfSk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGNvbnN0IGxvY2FsQ2FydElkID0gY29va2llcygpLmdldChcImxvY2FsQ2FydElkXCIpPy52YWx1ZTtcclxuICAgIGNhcnQgPSBsb2NhbENhcnRJZFxyXG4gICAgICA/IGF3YWl0IHByaXNtYS5jYXJ0LmZpbmRVbmlxdWUoe1xyXG4gICAgICAgICAgd2hlcmU6IHsgaWQ6IGxvY2FsQ2FydElkIH0sXHJcbiAgICAgICAgICBpbmNsdWRlOiB7IGl0ZW1zOiB7IGluY2x1ZGU6IHsgcHJvZHVjdDogdHJ1ZSB9IH0gfSxcclxuICAgICAgICB9KVxyXG4gICAgICA6IG51bGw7XHJcbiAgfVxyXG5cclxuICBpZiAoIWNhcnQpIHtcclxuICAgIHJldHVybiBudWxsO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIC4uLmNhcnQsXHJcbiAgICBzaXplOiBjYXJ0Lml0ZW1zLnJlZHVjZSgoYWNjLCBpdGVtKSA9PiBhY2MgKyBpdGVtLnF1YW50aXR5LCAwKSxcclxuICAgIHN1YnRvdGFsOiBjYXJ0Lml0ZW1zLnJlZHVjZShcclxuICAgICAgKGFjYywgaXRlbSkgPT4gYWNjICsgaXRlbS5xdWFudGl0eSAqIGl0ZW0ucHJvZHVjdC5wcmljZSxcclxuICAgICAgMFxyXG4gICAgKSxcclxuICB9O1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlQ2FydCgpOiBQcm9taXNlPFNob3BwaW5nQ2FydD4ge1xyXG4gIGNvbnN0IHNlc3Npb24gPSBhd2FpdCBnZXRTZXJ2ZXJTZXNzaW9uKGF1dGhPcHRpb25zKTtcclxuXHJcbiAgbGV0IG5ld0NhcnQ6IENhcnQ7XHJcblxyXG4gIGlmIChzZXNzaW9uKSB7XHJcbiAgICBuZXdDYXJ0ID0gYXdhaXQgcHJpc21hLmNhcnQuY3JlYXRlKHtcclxuICAgICAgZGF0YTogeyB1c2VySWQ6IHNlc3Npb24udXNlci5pZCB9LFxyXG4gICAgfSk7XHJcbiAgfSBlbHNlIHtcclxuICAgIG5ld0NhcnQgPSBhd2FpdCBwcmlzbWEuY2FydC5jcmVhdGUoe1xyXG4gICAgICBkYXRhOiB7fSxcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIE5vdGU6IE5lZWRzIGVuY3J5cHRpb24gKyBzZWN1cmUgc2V0dGluZ3MgaW4gcmVhbCBwcm9kdWN0aW9uIGFwcFxyXG4gICAgY29va2llcygpLnNldChcImxvY2FsQ2FydElkXCIsIG5ld0NhcnQuaWQpO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIC4uLm5ld0NhcnQsXHJcbiAgICBpdGVtczogW10sXHJcbiAgICBzaXplOiAwLFxyXG4gICAgc3VidG90YWw6IDAsXHJcbiAgfTtcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIG1lcmdlQW5vbnltb3VzQ2FydEludG9Vc2VyQ2FydCh1c2VySWQ6IHN0cmluZykge1xyXG4gIGNvbnN0IGxvY2FsQ2FydElkID0gY29va2llcygpLmdldChcImxvY2FsQ2FydElkXCIpPy52YWx1ZTtcclxuXHJcbiAgY29uc3QgbG9jYWxDYXJ0ID0gbG9jYWxDYXJ0SWRcclxuICAgID8gYXdhaXQgcHJpc21hLmNhcnQuZmluZFVuaXF1ZSh7XHJcbiAgICAgICAgd2hlcmU6IHsgaWQ6IGxvY2FsQ2FydElkIH0sXHJcbiAgICAgICAgaW5jbHVkZTogeyBpdGVtczogdHJ1ZSB9LFxyXG4gICAgICB9KVxyXG4gICAgOiBudWxsO1xyXG5cclxuICBpZiAoIWxvY2FsQ2FydCkgcmV0dXJuO1xyXG5cclxuICBjb25zdCB1c2VyQ2FydCA9IGF3YWl0IHByaXNtYS5jYXJ0LmZpbmRGaXJzdCh7XHJcbiAgICB3aGVyZTogeyB1c2VySWQgfSxcclxuICAgIGluY2x1ZGU6IHsgaXRlbXM6IHRydWUgfSxcclxuICB9KTtcclxuXHJcbiAgYXdhaXQgcHJpc21hLiR0cmFuc2FjdGlvbihhc3luYyAodHgpID0+IHtcclxuICAgIGlmICh1c2VyQ2FydCkge1xyXG4gICAgICBjb25zdCBtZXJnZWRDYXJ0SXRlbXMgPSBtZXJnZUNhcnRJdGVtcyhsb2NhbENhcnQuaXRlbXMsIHVzZXJDYXJ0Lml0ZW1zKTtcclxuXHJcbiAgICAgIGF3YWl0IHR4LmNhcnRJdGVtLmRlbGV0ZU1hbnkoe1xyXG4gICAgICAgIHdoZXJlOiB7IGNhcnRJZDogdXNlckNhcnQuaWQgfSxcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBhd2FpdCB0eC5jYXJ0SXRlbS5jcmVhdGVNYW55KHtcclxuICAgICAgICBkYXRhOiBtZXJnZWRDYXJ0SXRlbXMubWFwKChpdGVtKSA9PiAoe1xyXG4gICAgICAgICAgY2FydElkOiB1c2VyQ2FydC5pZCxcclxuICAgICAgICAgIHByb2R1Y3RJZDogaXRlbS5wcm9kdWN0SWQsXHJcbiAgICAgICAgICBxdWFudGl0eTogaXRlbS5xdWFudGl0eSxcclxuICAgICAgICB9KSksXHJcbiAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYXdhaXQgdHguY2FydC5jcmVhdGUoe1xyXG4gICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgIHVzZXJJZCxcclxuICAgICAgICAgIGl0ZW1zOiB7XHJcbiAgICAgICAgICAgIGNyZWF0ZU1hbnk6IHtcclxuICAgICAgICAgICAgICBkYXRhOiBsb2NhbENhcnQuaXRlbXMubWFwKChpdGVtKSA9PiAoe1xyXG4gICAgICAgICAgICAgICAgcHJvZHVjdElkOiBpdGVtLnByb2R1Y3RJZCxcclxuICAgICAgICAgICAgICAgIHF1YW50aXR5OiBpdGVtLnF1YW50aXR5LFxyXG4gICAgICAgICAgICAgIH0pKSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgfSxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgYXdhaXQgdHguY2FydC5kZWxldGUoe1xyXG4gICAgICB3aGVyZTogeyBpZDogbG9jYWxDYXJ0LmlkIH0sXHJcbiAgICB9KTtcclxuICAgIC8vIHRocm93IEVycm9yKFwiVHJhbnNhY3Rpb24gZmFpbGVkXCIpO1xyXG4gICAgY29va2llcygpLnNldChcImxvY2FsQ2FydElkXCIsIFwiXCIpO1xyXG4gIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBtZXJnZUNhcnRJdGVtcyguLi5jYXJ0SXRlbXM6IENhcnRJdGVtW11bXSk6IENhcnRJdGVtW10ge1xyXG4gIHJldHVybiBjYXJ0SXRlbXMucmVkdWNlKChhY2MsIGl0ZW1zKSA9PiB7XHJcbiAgICBpdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICAgIGNvbnN0IGV4aXN0aW5nSXRlbSA9IGFjYy5maW5kKChpKSA9PiBpLnByb2R1Y3RJZCA9PT0gaXRlbS5wcm9kdWN0SWQpO1xyXG4gICAgICBpZiAoZXhpc3RpbmdJdGVtKSB7XHJcbiAgICAgICAgZXhpc3RpbmdJdGVtLnF1YW50aXR5ICs9IGl0ZW0ucXVhbnRpdHk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgYWNjLnB1c2goaXRlbSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIGFjYztcclxuICB9LCBbXSBhcyBDYXJ0SXRlbVtdKTtcclxufSJdLCJuYW1lcyI6WyJhdXRoT3B0aW9ucyIsImdldFNlcnZlclNlc3Npb24iLCJjb29raWVzIiwicHJpc21hIiwiZ2V0Q2FydCIsInNlc3Npb24iLCJjYXJ0IiwiZmluZEZpcnN0Iiwid2hlcmUiLCJ1c2VySWQiLCJ1c2VyIiwiaWQiLCJpbmNsdWRlIiwiaXRlbXMiLCJwcm9kdWN0IiwibG9jYWxDYXJ0SWQiLCJnZXQiLCJ2YWx1ZSIsImZpbmRVbmlxdWUiLCJzaXplIiwicmVkdWNlIiwiYWNjIiwiaXRlbSIsInF1YW50aXR5Iiwic3VidG90YWwiLCJwcmljZSIsImNyZWF0ZUNhcnQiLCJuZXdDYXJ0IiwiY3JlYXRlIiwiZGF0YSIsInNldCIsIm1lcmdlQW5vbnltb3VzQ2FydEludG9Vc2VyQ2FydCIsImxvY2FsQ2FydCIsInVzZXJDYXJ0IiwiJHRyYW5zYWN0aW9uIiwidHgiLCJtZXJnZWRDYXJ0SXRlbXMiLCJtZXJnZUNhcnRJdGVtcyIsImNhcnRJdGVtIiwiZGVsZXRlTWFueSIsImNhcnRJZCIsImNyZWF0ZU1hbnkiLCJtYXAiLCJwcm9kdWN0SWQiLCJkZWxldGUiLCJjYXJ0SXRlbXMiLCJmb3JFYWNoIiwiZXhpc3RpbmdJdGVtIiwiZmluZCIsImkiLCJwdXNoIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/db/cart.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/db/prisma.ts":
/*!******************************!*\
  !*** ./src/lib/db/prisma.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   prisma: () => (/* binding */ prisma)\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n\nconst globalForPrisma = globalThis;\nconst prismaBase = globalForPrisma.prisma ?? new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient();\nconst prisma = prismaBase.$extends({\n    query: {\n        cart: {\n            async update ({ args, query }) {\n                args.data = {\n                    ...args.data,\n                    updatedAt: new Date()\n                };\n                return query(args);\n            }\n        }\n    }\n});\nif (true) globalForPrisma.prisma = prismaBase;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL2RiL3ByaXNtYS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBOEM7QUFFOUMsTUFBTUMsa0JBQWtCQztBQUl4QixNQUFNQyxhQUFhRixnQkFBZ0JHLE1BQU0sSUFBSSxJQUFJSix3REFBWUE7QUFFdEQsTUFBTUksU0FBU0QsV0FBV0UsUUFBUSxDQUFDO0lBQ3hDQyxPQUFPO1FBQ0xDLE1BQU07WUFDSixNQUFNQyxRQUFPLEVBQUVDLElBQUksRUFBRUgsS0FBSyxFQUFFO2dCQUMxQkcsS0FBS0MsSUFBSSxHQUFHO29CQUFFLEdBQUdELEtBQUtDLElBQUk7b0JBQUVDLFdBQVcsSUFBSUM7Z0JBQU87Z0JBQ2xELE9BQU9OLE1BQU1HO1lBQ2Y7UUFDRjtJQUNGO0FBQ0YsR0FBRztBQUVILElBQUlJLElBQXFDLEVBQUVaLGdCQUFnQkcsTUFBTSxHQUFHRCIsInNvdXJjZXMiOlsid2VicGFjazovL2RhbmllbC1lY29tbWVyY2UvLi9zcmMvbGliL2RiL3ByaXNtYS50cz9iODkyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFByaXNtYUNsaWVudCB9IGZyb20gXCJAcHJpc21hL2NsaWVudFwiO1xyXG5cclxuY29uc3QgZ2xvYmFsRm9yUHJpc21hID0gZ2xvYmFsVGhpcyBhcyB1bmtub3duIGFzIHtcclxuICBwcmlzbWE6IFByaXNtYUNsaWVudCB8IHVuZGVmaW5lZDtcclxufTtcclxuXHJcbmNvbnN0IHByaXNtYUJhc2UgPSBnbG9iYWxGb3JQcmlzbWEucHJpc21hID8/IG5ldyBQcmlzbWFDbGllbnQoKTtcclxuXHJcbmV4cG9ydCBjb25zdCBwcmlzbWEgPSBwcmlzbWFCYXNlLiRleHRlbmRzKHtcclxuICBxdWVyeToge1xyXG4gICAgY2FydDoge1xyXG4gICAgICBhc3luYyB1cGRhdGUoeyBhcmdzLCBxdWVyeSB9KSB7XHJcbiAgICAgICAgYXJncy5kYXRhID0geyAuLi5hcmdzLmRhdGEsIHVwZGF0ZWRBdDogbmV3IERhdGUoKSB9O1xyXG4gICAgICAgIHJldHVybiBxdWVyeShhcmdzKTtcclxuICAgICAgfSxcclxuICAgIH0sXHJcbiAgfSxcclxufSk7XHJcblxyXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSBnbG9iYWxGb3JQcmlzbWEucHJpc21hID0gcHJpc21hQmFzZTsiXSwibmFtZXMiOlsiUHJpc21hQ2xpZW50IiwiZ2xvYmFsRm9yUHJpc21hIiwiZ2xvYmFsVGhpcyIsInByaXNtYUJhc2UiLCJwcmlzbWEiLCIkZXh0ZW5kcyIsInF1ZXJ5IiwiY2FydCIsInVwZGF0ZSIsImFyZ3MiLCJkYXRhIiwidXBkYXRlZEF0IiwiRGF0ZSIsInByb2Nlc3MiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/db/prisma.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/env.ts":
/*!************************!*\
  !*** ./src/lib/env.ts ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   env: () => (/* binding */ env)\n/* harmony export */ });\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! zod */ \"(rsc)/./node_modules/zod/lib/index.mjs\");\n\nconst envSchema = zod__WEBPACK_IMPORTED_MODULE_0__[\"default\"].object({\n    DATABASE_URL: zod__WEBPACK_IMPORTED_MODULE_0__[\"default\"].string().nonempty(),\n    GOOGLE_CLIENT_ID: zod__WEBPACK_IMPORTED_MODULE_0__[\"default\"].string().nonempty(),\n    GOOGLE_CLIENT_SECRET: zod__WEBPACK_IMPORTED_MODULE_0__[\"default\"].string().nonempty(),\n    NEXTAUTH_URL: zod__WEBPACK_IMPORTED_MODULE_0__[\"default\"].string().nonempty(),\n    NEXTAUTH_SECRET: zod__WEBPACK_IMPORTED_MODULE_0__[\"default\"].string().nonempty()\n});\nconst env = envSchema.parse(process.env);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL2Vudi50cyIsIm1hcHBpbmdzIjoiOzs7OztBQUFzQjtBQUV0QixNQUFNQyxZQUFZRCxrREFBVSxDQUFDO0lBQzNCRyxjQUFjSCxrREFBVSxHQUFHSyxRQUFRO0lBQ25DQyxrQkFBa0JOLGtEQUFVLEdBQUdLLFFBQVE7SUFDdkNFLHNCQUFzQlAsa0RBQVUsR0FBR0ssUUFBUTtJQUMzQ0csY0FBY1Isa0RBQVUsR0FBR0ssUUFBUTtJQUNuQ0ksaUJBQWlCVCxrREFBVSxHQUFHSyxRQUFRO0FBQ3hDO0FBRU8sTUFBTUssTUFBTVQsVUFBVVUsS0FBSyxDQUFDQyxRQUFRRixHQUFHLEVBQUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kYW5pZWwtZWNvbW1lcmNlLy4vc3JjL2xpYi9lbnYudHM/ODQ4NSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgem9kIGZyb20gXCJ6b2RcIjtcclxuXHJcbmNvbnN0IGVudlNjaGVtYSA9IHpvZC5vYmplY3Qoe1xyXG4gIERBVEFCQVNFX1VSTDogem9kLnN0cmluZygpLm5vbmVtcHR5KCksXHJcbiAgR09PR0xFX0NMSUVOVF9JRDogem9kLnN0cmluZygpLm5vbmVtcHR5KCksXHJcbiAgR09PR0xFX0NMSUVOVF9TRUNSRVQ6IHpvZC5zdHJpbmcoKS5ub25lbXB0eSgpLFxyXG4gIE5FWFRBVVRIX1VSTDogem9kLnN0cmluZygpLm5vbmVtcHR5KCksXHJcbiAgTkVYVEFVVEhfU0VDUkVUOiB6b2Quc3RyaW5nKCkubm9uZW1wdHkoKSxcclxufSk7XHJcblxyXG5leHBvcnQgY29uc3QgZW52ID0gZW52U2NoZW1hLnBhcnNlKHByb2Nlc3MuZW52KTsiXSwibmFtZXMiOlsiem9kIiwiZW52U2NoZW1hIiwib2JqZWN0IiwiREFUQUJBU0VfVVJMIiwic3RyaW5nIiwibm9uZW1wdHkiLCJHT09HTEVfQ0xJRU5UX0lEIiwiR09PR0xFX0NMSUVOVF9TRUNSRVQiLCJORVhUQVVUSF9VUkwiLCJORVhUQVVUSF9TRUNSRVQiLCJlbnYiLCJwYXJzZSIsInByb2Nlc3MiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/env.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/next-auth","vendor-chunks/jose","vendor-chunks/zod","vendor-chunks/openid-client","vendor-chunks/@babel","vendor-chunks/oauth","vendor-chunks/preact","vendor-chunks/preact-render-to-string","vendor-chunks/uuid","vendor-chunks/@auth","vendor-chunks/yallist","vendor-chunks/lru-cache","vendor-chunks/cookie","vendor-chunks/oidc-token-hash","vendor-chunks/@panva"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute&page=%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute.ts&appDir=C%3A%5CUsers%5C16047%5CDesktop%5CFrontend%5Cfullstack%5Ce-commerce%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5C16047%5CDesktop%5CFrontend%5Cfullstack%5Ce-commerce&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();